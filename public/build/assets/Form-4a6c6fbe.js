import{r as h,a as e,q as x,j as s,F as f}from"./app-d3f7d95e.js";import{I as r}from"./InputLabel-084bfd22.js";import{P as N}from"./PrimaryButton-0bf44276.js";import{T as v}from"./TextInput-26efd460.js";import{S}from"./SelectInput-41d3aee4.js";import{I as c}from"./InputError-71c6551c.js";import{c as E,C as F}from"./ckeditor-05af2211.js";import{I,D as w}from"./DeleteButton-bf3672f2.js";import{D as b}from"./index.esm-18efe98c.js";import C from"./Tags-64675643.js";import"./Modal-0cf033ff.js";import"./transition-ca22699d.js";import"./dayjs.min-7dca470b.js";import"./MultipleCheckbox-9b8ab6c3.js";import"./Checkbox-03cb9af2.js";import"./index-b22d2af4.js";import"./index-5c1449aa.js";function $({start:a,handleOnChange:u,className:t,placeholder:i}){const[l,d]=h.useState({startDate:new Date(a).toLocaleDateString("pt-BR",{year:"numeric",month:"2-digit",day:"2-digit"}).replace(/(\d+)\/(\d+)\/(\d+)/,"$3-$2-$1"),endDate:new Date(a).toLocaleDateString("pt-BR",{year:"numeric",month:"2-digit",day:"2-digit"}).replace(/(\d+)\/(\d+)\/(\d+)/,"$3-$2-$1")}),p=n=>{d(n)};return h.useEffect(()=>{l!==null&&l.startDate!==null&&l.startDate!==void 0&&l.startDate!==""&&l.startDate,u({target:{name:"start",value:l.startDate}})},[l]),e(b,{i18n:"es_ES",placeholder:i??"Seleccione la fecha de inicio del evento",value:l,useRange:!1,asSingle:!0,onChange:p,containerClassName:t,displayFormat:"DD/MM/YYYY"})}function L({end:a,handleOnChange:u,className:t,placeholder:i}){const[l,d]=h.useState({startDate:new Date(a).toLocaleDateString("pt-BR",{year:"numeric",month:"2-digit",day:"2-digit"}).replace(/(\d+)\/(\d+)\/(\d+)/,"$3-$2-$1"),endDate:new Date(a).toLocaleDateString("pt-BR",{year:"numeric",month:"2-digit",day:"2-digit"}).replace(/(\d+)\/(\d+)\/(\d+)/,"$3-$2-$1")}),p=n=>{d(n)};return h.useEffect(()=>{u({target:{name:"end",value:l.startDate}})},[l]),e(b,{i18n:"es_ES",placeholder:i??"Seleccione la fecha de cierre del evento",value:l,useRange:!1,asSingle:!0,onChange:p,containerClassName:t,displayFormat:"DD/MM/YYYY"})}function Z({handleOnChange:a,submit:u,data:t,errors:i,processing:l,onDelete:d}){const{categories:p,cities:n,grouped_categories:Y,parent_tags:j}=x().props,y=m=>{a({target:{name:"featured_image",value:m}})},D=()=>{a({target:{name:"is_online",value:!t.is_online}})},_=m=>{let o=[...t.tag_ids],g=parseInt(m.target.value);m.target.checked?o=[...t.tag_ids,g]:o.splice(t.tag_ids.indexOf(g),1),a({target:{name:"tag_ids",value:o}})},k=()=>["heading","|","bold","italic","link","bulletedList","numberedList","|","outdent","indent","|","blockQuote","insertTable","mediaEmbed","undo","redo"];return s("form",{onSubmit:u,children:[s("div",{className:"mb-5 bg-stone-200 rounded-2xl p-2",children:[e("div",{className:"flex justify-center",children:t.featured_image?e("div",{className:"mb-3",children:e("img",{src:t.featured_image,alt:"featured_image",className:"w-96 rounded-2xl"})}):e(f,{children:t.image&&e("div",{className:"mb-3",children:e("img",{src:t.image,alt:"current_image",className:"w-96 rounded-2xl"})})})}),e(I,{onCorte:y}),e(c,{message:i.featured_image,className:"mt-2"}),e(c,{message:i.image,className:"mt-2"})]}),e("div",{className:"divider mt-10",children:"Identificación"}),s("div",{className:"my-5",children:[e(r,{htmlFor:"title",value:"Title"}),e(v,{type:"text",name:"title",value:t.title,className:"mt-1 block w-full",autoComplete:"title",onChange:a,placeholder:"Introduce el título del evento"}),e(c,{message:i.title,className:"mt-2"})]}),s("div",{className:"my-5",children:[e(r,{htmlFor:"description",value:"Descripción del Evento",className:"mb-1"}),e(E.CKEditor,{editor:F,config:{toolbar:k()},data:t.description,name:"description",value:t.description,onChange:(m,o)=>{const g=o.getData();a({target:{name:"description",value:g}})}}),e(c,{message:i.description,className:"mt-2"})]}),s("div",{className:"my-5",children:[e(r,{htmlFor:"start",value:"Fecha de inicio del Evento"}),e($,{start:t.start,handleOnChange:a,className:"mt-1 block w-full"}),e(c,{message:i.start,className:"mt-2"})]}),s("div",{className:"my-5",children:[e(r,{htmlFor:"end",value:"Fecha de cierre del Evento"}),e(L,{end:t.end,handleOnChange:a,className:"mt-1 block w-full"}),e(c,{message:i.end,className:"mt-2"})]}),e("div",{className:"divider mt-10",children:"Tags"}),e("div",{className:"my-5",children:e(C,{handleCheck:_})}),e("div",{className:"divider mt-10",children:"Detalles para ubicar el evento"}),e("div",{className:"form-control",children:s("label",{className:"cursor-pointer",children:[e("input",{type:"checkbox",defaultChecked:!!t.is_online,onClick:D,className:"checkbox checkbox-primary"}),e("span",{className:"label-text ml-2",children:"Es un evento online?"})]})}),t.is_online?s("div",{className:"my-3",children:[e(r,{htmlFor:"link",value:"Web del Evento (opcional)"}),e(v,{type:"text",name:"link",value:t.link,className:"mt-1 block w-full",placeholder:"Webinar link",onChange:a}),e(c,{message:i.link,className:"mt-2"})]}):s(f,{children:[s("div",{className:"my-3",children:[e(r,{htmlFor:"google_maps_src",value:"Google Maps link"}),e(v,{type:"text",name:"google_maps_src",value:t.google_maps_src,className:"mt-1 block w-full",onChange:a}),e(c,{message:i.google_maps_src,className:"mt-2"})]}),s("div",{className:"my-3",children:[e(r,{htmlFor:"address",value:"Dirección"}),e(v,{type:"text",name:"address",value:t.address,className:"mt-1 block w-full",placeholder:"Address",onChange:a}),e(c,{message:i.address,className:"mt-2"})]}),s("div",{className:"my-3",children:[e(r,{htmlFor:"city_id",value:"Ciudad"}),s(S,{name:"city_id",value:t.city_id,onChange:a,className:"mt-1 block w-full",children:[e("option",{defaultValue:!0,hidden:!0,children:"Elige una Ciudad"}),Object.keys(n).map((m,o)=>e("option",{value:n[m].id,children:n[m].name},o))]}),e(c,{message:i.city_id,className:"mt-2"})]})]}),d?s("div",{className:"flex justify-between mt-5",children:[e(w,{type:"button",onDelete:d,children:"Delete"}),e(N,{disabled:l,children:"Save"})]}):e("div",{className:"flex justify-end mt-5",children:e(N,{disabled:l,children:"Save"})})]})}export{Z as default};

import{r as F,a as e,g as G,c as P,j as o,F as X}from"./app-7d94c813.js";import{I as N}from"./InputLabel-9e824684.js";import{P as S}from"./PrimaryButton-bc8dcc43.js";import{T as M}from"./TextInput-0b300921.js";import{I as p}from"./InputError-cec39a2e.js";import{c as z,C as O}from"./ckeditor-4d373d07.js";import{I as K,D as Y}from"./DeleteButton-7113ec7b.js";import $ from"./Categories-9d99cceb.js";import"./Modal-ed4a2d78.js";import"./transition-fa174abb.js";import"./index-4d043d36.js";import"./index-c91cc821.js";import"./MultipleCheckbox-dc5c9043.js";import"./Checkbox-9ee32c56.js";const B=F.forwardRef(function({type:d="text",className:t="",isFocused:r=!1,...m},g){return g||F.useRef(),e("div",{className:"flex flex-col items-start",children:e("div",{children:e("input",{...m,className:"border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm "+t,type:"datetime-local",min:"2000-06-01T08:30",onChange:s=>m.onChange(s)})})})});var w={};const q=G(P);var L={},x={};Object.defineProperty(x,"__esModule",{value:!0});x.MAXIMUM_FRACTION_DIGITS=void 0;x.MAXIMUM_FRACTION_DIGITS=2;var R={};Object.defineProperty(R,"__esModule",{value:!0});R.formatCurrency=void 0;const H=3,Q=(a="pt-BR",d,t="BRL",r=!1)=>new Intl.NumberFormat(a,{style:"currency",currency:t,currencyDisplay:"symbol",minimumFractionDigits:2,maximumFractionDigits:2}).format(d).slice(r?H:0);R.formatCurrency=Q;(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.maskValues=a.normalizeValue=a.clearNumber=void 0;const d=x,t=R,r=s=>typeof s=="number"?s:Number(s.toString().replace(/[^0-9-]/g,""));a.clearNumber=r;const m=s=>{let u=s;return typeof s=="string"?(u=(0,a.clearNumber)(s),u%1!==0&&(u=u.toFixed(d.MAXIMUM_FRACTION_DIGITS))):u=Number.isInteger(s)?Number(s)*10**d.MAXIMUM_FRACTION_DIGITS:s.toFixed(d.MAXIMUM_FRACTION_DIGITS),(0,a.clearNumber)(u)/10**d.MAXIMUM_FRACTION_DIGITS};a.normalizeValue=m;const g=(s,u,C,V)=>{if(!u)return[0,""];const h=(0,a.normalizeValue)(u),I=(0,t.formatCurrency)(s,h,C,V);return[h,I]};a.maskValues=g})(L);Object.defineProperty(w,"__esModule",{value:!0});var E=w.CurrencyInput=void 0;const J=q,W=F,U=F,T=L;E=w.CurrencyInput=(0,U.forwardRef)(({InputElement:a,value:d,defaultValue:t,hideSymbol:r=!1,currency:m="BRL",locale:g="pt-BR",max:s,autoSelect:u,autoReset:C,onChangeValue:V,onBlur:h,onFocus:I,onKeyPress:l,...c},n)=>{const[y,b]=(0,U.useState)("0"),_=i=>{const[f,v]=(0,T.maskValues)(g,i,m,r);return!s||f<=s?(b(v),[f,v]):[(0,T.normalizeValue)(y),y]},D=i=>{i.preventDefault();const[f,v]=_(i.target.value);V(i,f,v)},k=i=>{const[f,v]=_(i.target.value);C&&(0,T.maskValues)(g,0,m,r),h&&h(i,f,v)},j=i=>{u&&i.target.select();const[f,v]=_(i.target.value);v&&I&&I(i,f,v)},A=i=>l&&l(i,i.key,i.key);return(0,U.useEffect)(()=>{const i=d||t||void 0,[,f]=(0,T.maskValues)(g,i,m,r);b(f)},[m,t,r,d]),a?(0,W.cloneElement)(a,{...c,ref:n,value:y,onChange:D,onBlur:k,onFocus:j,onKeyUp:A}):(0,J.jsx)("input",{...c,ref:n,value:y,onChange:D,onBlur:k,onFocus:j,onKeyUp:A})});function ge({handleOnChange:a,submit:d,data:t,errors:r,processing:m,onDelete:g=null}){const s=l=>{a({target:{name:"featured_image",value:l}})},u=()=>["heading","|","bold","italic","link","bulletedList","numberedList","|","outdent","indent","|","blockQuote","insertTable","mediaEmbed","undo","redo"],C=l=>{console.log(l.target.value);const[c,n,y]=l.target.value.split("T")[0].split("-"),[b,_]=l.target.value.split("T")[1].split(":"),k=new Date(Date.UTC(c,n-1,y,b,_)).toISOString().slice(0,16);a({target:{name:"start",value:k}})},V=l=>{const[c,n,y]=l.target.value.split("T")[0].split("-"),[b,_]=l.target.value.split("T")[1].split(":"),k=new Date(Date.UTC(c,n-1,y,b,_)).toISOString().slice(0,16);a({target:{name:"end",value:k}})},h=(l,c,n)=>{a({target:{name:"price",value:n}})},I=l=>{let c=[...t.category_ids],n=parseInt(l.target.value);l.target.checked?c=[...t.category_ids,n]:c.splice(t.category_ids.indexOf(n),1),a({target:{name:"category_ids",value:c}})};return o("form",{onSubmit:d,children:[o("div",{className:"mb-5 bg-stone-200 rounded-2xl p-2",children:[e("div",{className:"flex justify-center",children:t.featured_image?e("div",{className:"mb-3",children:e("img",{src:t.featured_image,alt:"featured_image",className:"w-96 rounded-2xl"})}):e(X,{children:t.image&&e("div",{className:"mb-3",children:e("img",{src:t.image,alt:"current_image",className:"w-96 rounded-2xl"})})})}),e(K,{onCorte:s}),e(p,{message:r.featured_image,className:"mt-2"}),e(p,{message:r.image,className:"mt-2"})]}),o("div",{className:"my-5",children:[e(N,{htmlFor:"title",value:"Titulo"}),e(M,{type:"text",name:"title",value:t.title,className:"mt-1 block w-full",autoComplete:"name",onChange:a}),e(p,{message:r.title,className:"mt-2"})]}),o("div",{className:"my-5",children:[e(N,{htmlFor:"price",value:"Price"}),o("div",{className:"flex items-center space-x-2",children:[o("select",{value:t.currency,onChange:a,className:"border border-gray-300 rounded-l-md",name:"currency",children:[e("option",{defaultValue:t.currency,value:"UYU",children:"UYU"}),e("option",{defaultValue:t.currency,value:"BRL",children:"BRL"})]}),e(E,{currency:t.currency,name:"price",value:t.price||"00",className:"border border-gray-300 w-full ml-0 rounded-r-md",autoComplete:"price",onChangeValue:(l,c,n)=>{h(l,c,n)}})]}),e(p,{message:r.price,className:"mt-2"})]}),o("div",{className:"my-5",children:[e(N,{htmlFor:"guide",value:"Nombre del Guia turistico"}),e(M,{type:"text",name:"guide",value:t.guide,className:"mt-1 block w-full",autoComplete:"guide",onChange:a}),e(p,{message:r.guide,className:"mt-2"})]}),o("div",{className:"my-3",children:[e(N,{htmlFor:"description",value:"Descripci칩n en Espa침ol"}),e(z.CKEditor,{editor:O,config:{toolbar:u()},data:t.description||"<p>Descripci칩n</p>",name:"description",value:t.description,onChange:(l,c)=>{const n=c.getData();a({target:{name:"description",value:n}})}}),e(p,{message:r.description,className:"mt-2"})]}),o("div",{className:"my-3",children:[e(N,{htmlFor:"google_maps_src",value:"Google Maps link"}),e(M,{type:"text",name:"google_maps_src",value:t.google_maps_src,className:"mt-1 block w-full",onChange:a}),e(p,{message:r.google_maps_src,className:"mt-2"})]}),o("div",{className:"my-3",children:[e(N,{htmlFor:"address",value:"Direcci칩n | Punto de encuentro"}),e(M,{type:"text",name:"meeting_point",value:t.meeting_point,className:"mt-1 block w-full",placeholder:"Punto de encuentro",onChange:a}),e(p,{message:r.meeting_point,className:"mt-2"})]}),o("div",{children:[o("div",{className:"my-5",children:[e(N,{htmlFor:"start",value:"Fecha de inicio"}),e(B,{value:t.start,onChange:C}),e(p,{message:r.start,className:"mt-2"})]}),o("div",{className:"my-5",children:[e(N,{htmlFor:"end",value:"Fecha de cierre"}),e(B,{value:t.end,onChange:V}),e(p,{message:r.end,className:"mt-2"})]})]}),e("div",{className:"divider mt-10",children:"Categorias"}),e("div",{className:"my-5",children:e($,{handleCheck:I})}),e("div",{children:g?o("div",{className:"flex justify-between mt-5",children:[e(Y,{type:"button",onDelete:g,children:"Delete"}),e(S,{disabled:m,children:"Save"})]}):e("div",{className:"flex justify-end mt-5",children:e(S,{disabled:m,children:"Save"})})})]})}export{ge as default};

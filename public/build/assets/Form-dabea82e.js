import{r as h,a as e,W as E,j as l,F as b}from"./app-d1948491.js";import{I as c}from"./InputLabel-9e534d7d.js";import{P as y}from"./PrimaryButton-57e12e08.js";import{I as r,T as v}from"./TextInput-8832b55d.js";import{S as N}from"./SelectInput-9d1d16fe.js";import{I as S,c as F,C}from"./ImagicLoader-848d640d.js";import{D as k}from"./index.esm-d26b370a.js";import"./Modal-f649be1c.js";import"./transition-f58c5832.js";import"./dayjs.min-b2063335.js";function I({start:t,handleOnChange:n,className:a,placeholder:i}){const[s,d]=h.useState({startDate:new Date(t).toLocaleDateString("pt-BR",{year:"numeric",month:"2-digit",day:"2-digit"}).replace(/(\d+)\/(\d+)\/(\d+)/,"$3-$2-$1"),endDate:new Date(t).toLocaleDateString("pt-BR",{year:"numeric",month:"2-digit",day:"2-digit"}).replace(/(\d+)\/(\d+)\/(\d+)/,"$3-$2-$1")}),g=o=>{d(o)};return h.useEffect(()=>{s!==null&&s.startDate!==null&&s.startDate!==void 0&&s.startDate!==""&&s.startDate,n({target:{name:"start",value:s.startDate}})},[s]),e(k,{i18n:"es_ES",placeholder:i??"Seleccione la fecha de inicio del evento",value:s,useRange:!1,asSingle:!0,onChange:g,containerClassName:a,displayFormat:"DD/MM/YYYY"})}function $({end:t,handleOnChange:n,className:a,placeholder:i}){const[s,d]=h.useState({startDate:new Date(t).toLocaleDateString("pt-BR",{year:"numeric",month:"2-digit",day:"2-digit"}).replace(/(\d+)\/(\d+)\/(\d+)/,"$3-$2-$1"),endDate:new Date(t).toLocaleDateString("pt-BR",{year:"numeric",month:"2-digit",day:"2-digit"}).replace(/(\d+)\/(\d+)\/(\d+)/,"$3-$2-$1")}),g=o=>{d(o)};return h.useEffect(()=>{n({target:{name:"end",value:s.startDate}})},[s]),e(k,{i18n:"es_ES",placeholder:i??"Seleccione la fecha de cierre del evento",value:s,useRange:!1,asSingle:!0,onChange:g,containerClassName:a,displayFormat:"DD/MM/YYYY"})}const j=({onDelete:t,children:n})=>e("button",{className:"inline-flex items-center px-4 py-2 bg-red-800 dark:bg-gray-200 border border-transparent rounded-md font-semibold text-xs text-white dark:text-gray-800 uppercase tracking-widest hover:bg-red-700 dark:hover:bg-white focus:bg-gray-700 dark:focus:bg-white active:bg-red-900 dark:active:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 dark:focus:ring-offset-red-800 transition ease-in-out duration-150",tabIndex:"-1",type:"button",onClick:t,children:n});function G({handleOnChange:t,submit:n,data:a,errors:i,processing:s,onDelete:d}){const{categories:g,cities:o,grouped_categories:f}=E().props,D=m=>{t({target:{name:"featured_image",value:m}})},_=()=>{t({target:{name:"is_online",value:!a.is_online}})},x=()=>["heading","|","bold","italic","link","bulletedList","numberedList","|","outdent","indent","|","blockQuote","insertTable","mediaEmbed","undo","redo"];return l("form",{onSubmit:n,children:[l("div",{className:"mb-5 bg-stone-200 rounded-2xl p-2",children:[e("div",{className:"flex justify-center",children:a.featured_image?e("div",{className:"mb-3",children:e("img",{src:a.featured_image,alt:"featured_image",className:"w-96 rounded-2xl"})}):e(b,{children:a.image&&e("div",{className:"mb-3",children:e("img",{src:a.image,alt:"current_image",className:"w-96 rounded-2xl"})})})}),e(S,{onCorte:D}),e(r,{message:i.featured_image,className:"mt-2"}),e(r,{message:i.image,className:"mt-2"})]}),e("div",{className:"divider mt-10",children:"Identificación"}),l("div",{className:"my-5",children:[e(c,{htmlFor:"title",value:"Title"}),e(v,{type:"text",name:"title",value:a.title,className:"mt-1 block w-full",autoComplete:"title",onChange:t,placeholder:"Introduce el título del evento"}),e(r,{message:i.title,className:"mt-2"})]}),l("div",{className:"my-5",children:[e(c,{htmlFor:"description",value:"Descripción del Evento",className:"mb-1"}),e(F.CKEditor,{editor:C,config:{toolbar:x()},data:a.description,name:"description",value:a.description,onChange:(m,u)=>{const p=u.getData();t({target:{name:"description",value:p}})}}),e(r,{message:i.description,className:"mt-2"})]}),l("div",{className:"my-5",children:[e(c,{htmlFor:"start",value:"Fecha de inicio del Evento"}),e(I,{start:a.start,handleOnChange:t,className:"mt-1 block w-full"}),e(r,{message:i.start,className:"mt-2"})]}),l("div",{className:"my-5",children:[e(c,{htmlFor:"end",value:"Fecha de cierre del Evento"}),e($,{end:a.end,handleOnChange:t,className:"mt-1 block w-full"}),e(r,{message:i.end,className:"mt-2"})]}),l("div",{className:"my-5",children:[e(c,{htmlFor:"category_id",value:"Category"}),l(N,{name:"category_id",value:a.category_id,onChange:t,className:"mt-1 block w-full",children:[e("option",{defaultValue:!0,hidden:!0,children:"Elige una categoría"}),Object.keys(f).map((m,u)=>e("optgroup",{label:g[u].name,children:f[m].map((p,w)=>e("option",{value:p.id,children:p.name},w))},u))]}),e(r,{message:i.category_id,className:"mt-2"})]}),e("div",{className:"divider mt-10",children:"Detalles para ubicar el evento"}),e("div",{className:"form-control",children:l("label",{className:"cursor-pointer",children:[e("input",{type:"checkbox",defaultChecked:!!a.is_online,onClick:_,className:"checkbox checkbox-primary"}),e("span",{className:"label-text ml-2",children:"Es un evento online?"})]})}),a.is_online?l("div",{className:"my-3",children:[e(c,{htmlFor:"link",value:"Web del Evento (opcional)"}),e(v,{type:"text",name:"link",value:a.link,className:"mt-1 block w-full",placeholder:"Webinar link",onChange:t}),e(r,{message:i.link,className:"mt-2"})]}):l(b,{children:[l("div",{className:"my-3",children:[e(c,{htmlFor:"google_maps_src",value:"Google Maps link"}),e(v,{type:"text",name:"google_maps_src",value:a.google_maps_src,className:"mt-1 block w-full",onChange:t}),e(r,{message:i.google_maps_src,className:"mt-2"})]}),l("div",{className:"my-3",children:[e(c,{htmlFor:"address",value:"Dirección"}),e(v,{type:"text",name:"address",value:a.address,className:"mt-1 block w-full",placeholder:"Address",onChange:t}),e(r,{message:i.address,className:"mt-2"})]}),l("div",{className:"my-3",children:[e(c,{htmlFor:"city_id",value:"Ciudad"}),l(N,{name:"city_id",value:a.city_id,onChange:t,className:"mt-1 block w-full",children:[e("option",{defaultValue:!0,hidden:!0,children:"Elige una Ciudad"}),Object.keys(o).map((m,u)=>e("option",{value:o[m].id,children:o[m].name},u))]}),e(r,{message:i.city_id,className:"mt-2"})]})]}),d?l("div",{className:"flex justify-between mt-5",children:[e(j,{type:"button",onDelete:d,children:"Delete"}),e(y,{disabled:s,children:"Save"})]}):e("div",{className:"flex justify-end mt-5",children:e(y,{disabled:s,children:"Save"})})]})}export{G as default};

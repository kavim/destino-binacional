import{q as C,r as i,a as e,j as o,F as N,g}from"./app-e07c1b45.js";import{p as l,u as S}from"./pickBy-07310ac6.js";import{c as h}from"./index-18d5305b.js";const T=()=>{const{filters:n,grouped_categories:p,categories:m}=C().props,[y,b]=i.useState(!1),[c,u]=i.useState(!1),[t,d]=i.useState({search:n.search||"",category_id:n.category_id||"",sub_category_id:n.sub_category_id||""}),f=Object.keys(l(t)).length>0,v=S(t);function _(){d({search:"",category_id:"",sub_category_id:""}),g.get(route(route().current()))}const w=()=>{u(!0);const r=setTimeout(()=>{if(v){const a=Object.keys(l(t)).length?l(t):{remember:"forget"};g.get(route(route().current()),a,{replace:!0,preserveState:!0}),u(!1)}},200);return()=>clearTimeout(r)};function s(r){const a=r.target.name,k=r.target.value;d(x=>({...x,[a]:k})),y&&b(!1)}return e("div",{children:o("div",{className:"form-control flex row flex-row",children:[o("div",{className:"input-group",children:[o("select",{className:"select select-bordered w-36",value:t.category_id,name:"category_id",onChange:s,children:[e("option",{defaultValue:!0,hidden:!0,children:"Categoría"}),e("option",{value:"",children:"Todas"}),m.map((r,a)=>e("option",{value:r.id,children:r.name},a))]}),o("select",{className:h(["select select-bordered inline trasnsition-all ease-in-out duration-300"],{"w-0 p-0 m-0":!t.category_id,"w-32":t.category_id}),value:t.sub_category_id,name:"sub_category_id",onChange:s,children:[e("option",{defaultValue:!0,hidden:!0,children:"SubCategoría"}),e("option",{value:"",children:"Todas"}),t.category_id&&e(N,{children:p[t.category_id].map((r,a)=>e("option",{value:r.id,children:r.name},a))})]}),e("input",{onChange:s,name:"search",type:"text",placeholder:"Buscar...",className:"input input-bordered"}),e("button",{type:"button",onClick:w,className:h(["btn btn-square ease-in-out transition-all"],{"loading ease-in-out transition-all":c}),children:c?"":e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]}),f&&o("button",{type:"button",onClick:_,className:"btn btn-square btn-ghost",children:[" ",o("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[" ",e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})," "]})," "]})]})})};export{T as default};
